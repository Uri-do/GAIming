import{r as l,p as v,j as e}from"./index-BlsT4Di8.js";import{B as d}from"./Button-SeG07tvq.js";import{I as h}from"./input-DIDSjnMG.js";import{C as k}from"./Card-vncpb8C1.js";function w(){const[r,u]=l.useState("admin"),[i,j]=l.useState("Admin123!"),[c,t]=l.useState(null),[m,a]=l.useState(!1),{login:g,logout:b,user:n,isAuthenticated:o,error:x}=v(),p=async()=>{a(!0),t(null);try{await g(r,i),t("✅ Login successful!")}catch(s){t(`❌ Login failed: ${s instanceof Error?s.message:"Unknown error"}`)}finally{a(!1)}},f=()=>{b(),t("✅ Logout successful!")},N=async()=>{a(!0),t(null);try{const s=await fetch("http://localhost:65073/api/health");s.ok?t("✅ API connection successful!"):t(`❌ API connection failed: ${s.status} ${s.statusText}`)}catch(s){t(`❌ API connection failed: ${s instanceof Error?s.message:"Unknown error"}`)}finally{a(!1)}};return e.jsx("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:e.jsxs(k,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Authentication Test"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"API Connection Test"}),e.jsx(d,{onClick:N,loading:m,variant:"outline",children:"Test API Connection"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Current Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Authenticated:"})," ",o?"✅ Yes":"❌ No"]}),n&&e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"User:"})," ",n.name," (",n.email,")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",n.role]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Permissions:"})," ",n.permissions.join(", ")||"None"]})]}),x&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-md",children:[e.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Authentication Error"}),e.jsx("p",{className:"text-red-700 dark:text-red-300",children:x})]})]})]}),!o&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Login Test"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),e.jsx(h,{value:r,onChange:s=>u(s.target.value),placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsx(h,{type:"password",value:i,onChange:s=>j(s.target.value),placeholder:"Enter password"})]}),e.jsx(d,{onClick:p,loading:m,disabled:!r||!i,children:"Test Login"})]})]}),o&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Logout Test"}),e.jsx(d,{onClick:f,variant:"outline",children:"Test Logout"})]}),c&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test Result"}),e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-md",children:e.jsx("pre",{className:"text-sm",children:c})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-md",children:[e.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Default Test Credentials"}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Username:"})," admin",e.jsx("br",{}),e.jsx("strong",{children:"Password:"})," Admin123!"]})]})]})})}export{w as AuthTest,w as default};
//# sourceMappingURL=AuthTest-Ck876oG_.js.map
