import{c as q,d as H,u as J,r as i,j as e,L as k,n as x,B as E,T as u,A as X,i as G,M as K}from"./index-B51ItZ5h.js";import{m as y}from"./mlModelsService-BZj8afAj.js";import{C as l,c,a as n,b as d,d as Q}from"./Card-tTIaziEs.js";import{B as r}from"./Button-CDIPLpLJ.js";import{B as P}from"./Badge-CFKe1Fd1.js";import{A as v}from"./arrow-left-D9sSTKE0.js";import{R as W}from"./refresh-cw-BiiooO2n.js";import{X as L}from"./x-BMU40GWQ.js";import{S as Y}from"./save-B0cwgaqX.js";import{P as _}from"./pen-square-DTpFLXc_.js";import{C as T}from"./clock-D1dtIjEg.js";import{Z as B}from"./zap-4q_xb0L4.js";import{C as A}from"./check-circle-CQ-g1P4Q.js";import{T as ee}from"./trending-up-CcBaz28r.js";import{D as F}from"./database-DJh-d2Sp.js";import{P as se}from"./pause-A3aWZgkK.js";import{P as ae}from"./play-BG1br7nY.js";import{D as te}from"./download-CZPgOUBS.js";import{A as re}from"./alert-triangle-BumWFkfF.js";import"./api-DLjschmT.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Se=()=>{const{modelId:o}=H(),h=J(),[a,w]=i.useState(null),[m,I]=i.useState(null),[R,b]=i.useState(!0),[z,C]=i.useState(!0),[M,g]=i.useState(null),[S,j]=i.useState(!1),[p,N]=i.useState({});i.useEffect(()=>{o&&(D(),O())},[o]);const D=async()=>{try{b(!0),g(null);const s=await y.getModel(Number(o));w(s),N(s)}catch(s){console.error("Error fetching model data:",s),g(s instanceof Error?s.message:"Failed to fetch model data")}finally{b(!1)}},O=async()=>{try{C(!0);const s=await y.getModelPerformance(Number(o)),t={precision:s.precision,recall:s.recall,f1Score:s.f1Score,accuracy:s.auc||0};I(t)}catch(s){console.error("Error fetching model performance:",s)}finally{C(!1)}},Z=async()=>{if(!(!a||!p))try{const s=await y.updateModel(a.id,p);w(s),j(!1)}catch(s){console.error("Error updating model:",s),g(s instanceof Error?s.message:"Failed to update model")}},U=()=>{N(a||{}),j(!1)},f=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=s=>{switch(s){case"deployed":return"bg-green-500 text-white";case"trained":return"bg-blue-500 text-white";case"training":return"bg-yellow-500 text-white";case"failed":return"bg-red-500 text-white";case"retired":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},$=s=>{switch(s){case"deployed":return e.jsx(A,{className:"w-3 h-3"});case"trained":return e.jsx(x,{className:"w-3 h-3"});case"training":return e.jsx(T,{className:"w-3 h-3"});case"failed":return e.jsx(re,{className:"w-3 h-3"});case"retired":return e.jsx(L,{className:"w-3 h-3"});default:return e.jsx(x,{className:"w-3 h-3"})}};return R?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(r,{variant:"ghost",onClick:()=>h("/models"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Models"})}),e.jsx(l,{variant:"gaming",className:"text-center",children:e.jsxs(c,{className:"p-8",children:[e.jsx(k,{size:"xl",variant:"gaming"}),e.jsx("p",{className:"text-gray-300 mt-4 text-lg",children:"Loading model details..."})]})})]}):M||!a?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(r,{variant:"ghost",onClick:()=>h("/models"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Models"})}),e.jsxs(l,{variant:"gaming",className:"border-error-500/30",children:[e.jsxs(n,{variant:"gaming",children:[e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-error-400"}),"Error Loading Model"]}),e.jsx(Q,{className:"text-gray-400",children:M||"Model not found"})]}),e.jsx(c,{children:e.jsx(r,{variant:"destructive",onClick:D,icon:e.jsx(W,{}),children:"Retry Loading"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"ghost",onClick:()=>h("/models"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Models"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:a.name}),e.jsxs("p",{className:"text-gray-400 mt-1",children:[a.modelType," â€¢ Version ",a.version]})]})]}),e.jsx("div",{className:"flex gap-3",children:S?e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",onClick:U,icon:e.jsx(L,{className:"w-4 h-4"}),children:"Cancel"}),e.jsx(r,{variant:"primary",onClick:Z,icon:e.jsx(Y,{className:"w-4 h-4"}),children:"Save Changes"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"outline",onClick:()=>j(!0),icon:e.jsx(_,{className:"w-4 h-4"}),children:"Edit Model"}),e.jsx(r,{variant:"primary",icon:e.jsx(E,{className:"w-4 h-4"}),children:"View Analytics"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(l,{variant:"gaming",glow:!0,children:[e.jsx(n,{variant:"gaming",children:e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5 text-primary-400"}),"Model Information"]})}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Model ID"}),e.jsx("p",{className:"text-white font-medium",children:a.id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Status"}),e.jsxs(P,{className:V(a.status),children:[$(a.status),e.jsx("span",{className:"ml-1 capitalize",children:a.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Model Type"}),e.jsx(P,{variant:"secondary",children:a.modelType})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Version"}),e.jsxs("p",{className:"text-white font-medium",children:["v",a.version]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Description"}),S?e.jsx("textarea",{value:p.description||"",onChange:s=>N(t=>({...t,description:s.target.value})),className:"w-full mt-1 p-2 bg-gray-800 border border-gray-600 rounded text-white",rows:3}):e.jsx("p",{className:"text-gray-300 mt-1",children:a.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Created Date"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(T,{className:"w-4 h-4 text-gray-400"}),f(a.createdDate)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Created By"}),e.jsx("p",{className:"text-white font-medium",children:a.createdBy})]})]}),a.lastTrainedDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Last Trained"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4 text-yellow-400"}),f(a.lastTrainedDate)]})]}),a.deployedDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Deployed Date"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(A,{className:"w-4 h-4 text-green-400"}),f(a.deployedDate)]})]}),a.filePath&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"File Path"}),e.jsx("p",{className:"text-gray-300 font-mono text-sm bg-gray-800 p-2 rounded",children:a.filePath})]})]})]})}),e.jsx("div",{children:e.jsxs(l,{variant:"gaming",glow:!0,children:[e.jsx(n,{variant:"gaming",children:e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5 text-primary-400"}),"Performance Metrics"]})}),e.jsx(c,{children:z?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{variant:"gaming"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading performance..."})]}):m?e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Precision"})]}),e.jsxs("span",{className:"text-white font-medium",children:[(m.precision*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Recall"})]}),e.jsxs("span",{className:"text-white font-medium",children:[(m.recall*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"F1 Score"})]}),e.jsxs("span",{className:"text-white font-medium",children:[(m.f1Score*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Accuracy"})]}),e.jsxs("span",{className:"text-white font-medium",children:[(m.accuracy*100).toFixed(1),"%"]})]})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No performance data available"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-primary-400"}),"Configuration"]})}),e.jsx(c,{children:a.configuration&&Object.keys(a.configuration).length>0?e.jsx("div",{className:"space-y-3",children:Object.entries(a.configuration).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400 capitalize",children:s.replace(/([A-Z])/g," $1")}),e.jsx("span",{className:"text-white font-medium font-mono text-sm",children:typeof t=="object"?JSON.stringify(t):String(t)})]},s))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ie,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No configuration data available"})]})})]}),e.jsxs(l,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-primary-400"}),"Metadata"]})}),e.jsx(c,{children:a.metadata&&Object.keys(a.metadata).length>0?e.jsx("div",{className:"space-y-3",children:Object.entries(a.metadata).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400 capitalize",children:s.replace(/([A-Z])/g," $1")}),e.jsx("span",{className:"text-white font-medium",children:typeof t=="number"&&s.includes("accuracy")?`${(t*100).toFixed(1)}%`:String(t)})]},s))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(F,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No metadata available"})]})})]})]}),e.jsxs(l,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(d,{className:"text-white flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5 text-primary-400"}),"Model Actions"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 p-4 h-auto",onClick:()=>{},children:[e.jsx(B,{className:"w-5 h-5 text-yellow-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Train Model"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Start new training job"})]})]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 p-4 h-auto",onClick:()=>{},children:[a.status==="deployed"?e.jsx(se,{className:"w-5 h-5 text-red-400"}):e.jsx(ae,{className:"w-5 h-5 text-green-400"}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"font-medium",children:[a.status==="deployed"?"Undeploy":"Deploy"," Model"]}),e.jsx("div",{className:"text-sm text-gray-400",children:a.status==="deployed"?"Remove from production":"Deploy to production"})]})]}),e.jsxs(r,{variant:"outline",className:"flex items-center gap-2 p-4 h-auto",onClick:()=>{},children:[e.jsx(te,{className:"w-5 h-5 text-blue-400"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:"Export Model"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Download model file"})]})]})]})})]})]})};export{Se as default};
//# sourceMappingURL=ModelDetail-qaJoKszt.js.map
