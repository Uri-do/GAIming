import{c as M,d as W,u as $,r,j as e,L as N,h as A,i as H,B as g,e as O,A as C,T as q,G as J}from"./index-BDgzWWmh.js";import{p as y}from"./playerAnalyticsService-tU_vkzxv.js";import{C as i,c as l,a as n,b as c,d as K}from"./Card-DsKWwR8B.js";import{B as d}from"./Button-r1mGnSvO.js";import{B as x}from"./Badge-B40-rsCM.js";import{A as v}from"./arrow-left-DFjmHtkm.js";import{T as k}from"./trending-up-BNm_GL1C.js";import{M as Q}from"./map-pin-ZFQc_gl2.js";import{S as X}from"./star-DfH94GLB.js";import{C as Y}from"./calendar-CniDA8Tz.js";import{C as Z}from"./clock-iHYdVdeq.js";import{D as _}from"./dollar-sign-C3n1TQ0t.js";import"./api-BjH6yXU-.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),ge=()=>{var P;const{playerId:m}=W(),j=$(),[s,B]=r.useState(null),[t,T]=r.useState(null),[o,R]=r.useState(null),[E,f]=r.useState(!0),[F,u]=r.useState(!0),[I,w]=r.useState(!0),[b,S]=r.useState(null);r.useEffect(()=>{m&&(D(),G(),U())},[m]);const D=async()=>{try{f(!0),S(null);const a=await y.getPlayer(Number(m));B(a)}catch(a){console.error("Error fetching player data:",a),S(a instanceof Error?a.message:"Failed to fetch player data")}finally{f(!1)}},G=async()=>{try{u(!0);const a=await y.getPlayerDashboard(Number(m));T(a)}catch(a){console.error("Error fetching player dashboard:",a)}finally{u(!1)}},U=async()=>{try{w(!0);const a=await y.getPlayerBehavior(Number(m));R(a)}catch(a){console.error("Error fetching player behavior:",a)}finally{w(!1)}},h=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),L=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=a=>a>=5?"bg-purple-500 text-white":a>=3?"bg-yellow-500 text-white":a>=1?"bg-blue-500 text-white":"bg-gray-500 text-white",V=a=>a>=4?"bg-red-500 text-white":a>=3?"bg-orange-500 text-white":a>=2?"bg-yellow-500 text-white":"bg-green-500 text-white";return E?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(d,{variant:"ghost",onClick:()=>j("/players"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Players"})}),e.jsx(i,{variant:"gaming",className:"text-center",children:e.jsxs(l,{className:"p-8",children:[e.jsx(N,{size:"xl",variant:"gaming"}),e.jsx("p",{className:"text-gray-300 mt-4 text-lg",children:"Loading player details..."})]})})]}):b||!s?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(d,{variant:"ghost",onClick:()=>j("/players"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Players"})}),e.jsxs(i,{variant:"gaming",className:"border-error-500/30",children:[e.jsxs(n,{variant:"gaming",children:[e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-error-400"}),"Error Loading Player"]}),e.jsx(K,{className:"text-gray-400",children:b||"Player not found"})]}),e.jsx(l,{children:e.jsx(d,{variant:"destructive",onClick:D,icon:e.jsx(k,{}),children:"Retry Loading"})})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(d,{variant:"ghost",onClick:()=>j("/players"),icon:e.jsx(v,{className:"w-4 h-4"}),children:"Back to Players"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:s.username}),e.jsx("p",{className:"text-gray-400 mt-1",children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.email})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(d,{variant:"outline",icon:e.jsx(H,{className:"w-4 h-4"}),children:"Manage Player"}),e.jsx(d,{variant:"primary",icon:e.jsx(g,{className:"w-4 h-4"}),children:"View Analytics"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(i,{variant:"gaming",glow:!0,children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-primary-400"}),"Player Profile"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:s.username.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:s.username}),e.jsx("p",{className:"text-gray-400",children:s.email}),s.firstName&&s.lastName&&e.jsxs("p",{className:"text-gray-300",children:[s.firstName," ",s.lastName]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Player ID"}),e.jsx("p",{className:"text-white font-medium",children:s.playerId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(x,{variant:s.isActive?"success":"error",children:s.isActive?"Active":"Inactive"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Country"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(Q,{className:"w-4 h-4 text-gray-400"}),s.country||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Segment"}),e.jsx(x,{variant:"secondary",children:s.playerSegment})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"VIP Level"}),e.jsxs(x,{className:z(s.vipLevel),children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"VIP ",s.vipLevel]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Risk Level"}),e.jsxs(x,{className:V(s.riskLevel),children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Risk ",s.riskLevel]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Registration Date"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(Y,{className:"w-4 h-4 text-gray-400"}),L(s.registrationDate)]})]}),s.lastLoginDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Last Login"}),e.jsxs("p",{className:"text-white font-medium flex items-center gap-1",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-400"}),L(s.lastLoginDate)]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(i,{variant:"gaming",glow:!0,children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-primary-400"}),"Gaming Statistics"]})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Sessions"})]}),e.jsx("span",{className:"text-white font-medium",children:s.totalSessions.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Total Bets"})]}),e.jsx("span",{className:"text-white font-medium",children:h(s.totalBets)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Total Wins"})]}),e.jsx("span",{className:"text-white font-medium",children:h(s.totalWins)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-orange-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Revenue"})]}),e.jsx("span",{className:"text-white font-medium",children:h(s.totalRevenue)})]})]})})]}),e.jsxs(i,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-primary-400"}),"Performance Metrics"]})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Lifetime Value"}),e.jsx("span",{className:"text-white font-medium",children:h(s.lifetimeValue)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Avg Session Duration"}),e.jsxs("span",{className:"text-white font-medium",children:[s.averageSessionDuration.toFixed(1)," min"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Avg Bet Size"}),e.jsx("span",{className:"text-white font-medium",children:h(s.averageBetSize)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Retention Score"}),e.jsxs("span",{className:"text-white font-medium",children:[(s.retentionScore*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Engagement Score"}),e.jsxs("span",{className:"text-white font-medium",children:[s.engagementScore.toFixed(1),"/100"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Risk Score"}),e.jsxs("span",{className:"text-white font-medium",children:[s.riskScore.toFixed(1),"/100"]})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-primary-400"}),"Game Preferences"]})}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Favorite Game Types"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.favoriteGameTypes.map((a,p)=>e.jsx(x,{variant:"outline",children:a},p))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Preferred Providers"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.preferredProviders.map((a,p)=>e.jsx(x,{variant:"secondary",children:a},p))})]})]})})]}),e.jsxs(i,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5 text-primary-400"}),"Dashboard Overview"]})}),e.jsx(l,{children:F?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(N,{variant:"gaming"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading dashboard..."})]}):t?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Dashboard Period"}),e.jsxs("span",{className:"text-white font-medium",children:[t.startDate?new Date(t.startDate).toLocaleDateString():"N/A"," -",t.endDate?new Date(t.endDate).toLocaleDateString():"N/A"]})]}),t.overview&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Total Play Time"}),e.jsx("span",{className:"text-white font-medium",children:t.overview.totalPlayTime||"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Games Played"}),e.jsx("span",{className:"text-white font-medium",children:t.overview.gamesPlayed||"N/A"})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No dashboard data available"})]})})]})]}),o&&e.jsxs(i,{variant:"gaming",children:[e.jsx(n,{variant:"gaming",children:e.jsxs(c,{className:"text-white flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-primary-400"}),"Behavior Analysis"]})}),e.jsx(l,{children:I?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(N,{variant:"gaming"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading behavior analysis..."})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:((P=o.riskScore)==null?void 0:P.toFixed(1))||"N/A"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Risk Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:o.username||s.username}),e.jsx("div",{className:"text-sm text-gray-400",children:"Player Username"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:o.lastAnalyzed?new Date(o.lastAnalyzed).toLocaleDateString():"N/A"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Last Analyzed"})]})]})})]})]})};export{ge as default};
//# sourceMappingURL=PlayerDetail-C3S-sxi8.js.map
